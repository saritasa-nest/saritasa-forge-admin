@using Saritasa.NetForge.Domain.Comparers
@using Saritasa.NetForge.Infrastructure.Helpers

@inherits CustomField

@typeparam T

<MudSelect @bind-SelectedValues="PropertyValue"
           Label="@Property.Name"
           Variant="Variant.Outlined"
           HelperText="@Property.Description"
           Disabled="IsReadOnly"
           MultiSelection="true"
           Error="@FieldErrorModel.IsError"
           ErrorText="@FieldErrorModel.ErrorMessage"
           Comparer="new ObjectComparer<T>(EntityMetadata)"
           ToStringFunc="navigation => navigation.ConvertToString(EntityMetadata)">
    @foreach (var instance in NavigationInstances)
    {
        <MudSelectItem Value="instance" />
    }
</MudSelect>
